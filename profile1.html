<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>陳健銘 - 個人履歷</title>
  <link rel="icon" href="NYCU.png" type="image/png" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@700&family=Montserrat:wght@400;600;700&family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="profile1.css">
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Tangerine:wght@700&display=swap" rel="stylesheet">
</head>
<body>
  <canvas id="stars"></canvas>

  <nav id="navbar">
    <div class="nav-container">
      <a class="logo" href="#">CM</a>
      <ul class="nav-links">
        <li><a href="#about">About</a></li>
        <li><a href="#education">Education</a></li>
        <li><a href="#project">Projects</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
    </div>
  </nav>

  <header id="home">
    <div class="header-content container">
      <div class="profile-img" id="profile-img"><img src="1.jpg" alt="profile"></div>
      <br></br>
      <br></br>
      <h1 class="university-name">Chen Chien Ming</h1>
      <h2 class="university-name">National Yang Ming Chiao Tung University</h2>
      <div class="typing" id="typing-text"></div>
    </div>
  </header>

  <section id="about">
    <div class="container">
      <h2>About Me</h2>
      <div class="four-columns">
        <div class="about-card">
          <div class="card-icon"><i class="fas fa-user"></i></div>
          <h3>Personal Information</h3>
          <p><strong>Gender:</strong> Male</p>
          <p><strong>Nationality:</strong> Republic of China</p>
        </div>
        <div class="about-card">
          <div class="card-icon"><i class="fas fa-briefcase"></i></div>
          <h3>Work Experience</h3>
          <p>LatticeWork - AI Research Intern</p>
          <p>First Commercial Bank, Ltd - Intern</p>
        </div>
        <div class="about-card">
          <div class="card-icon"><i class="fas fa-award"></i></div>
          <h3>Achievements</h3>
          <p>2022 Capital Futures New Talent</p>
        </div>
      </div>
    </div>
  </section>

  <section id="education">
    <div class="container">
      <h2>Education</h2>
      <div class="timeline" tabindex="0" aria-label="水平學歷時間軸">
        <div class="timeline-track">
          <div class="timeline-item"><div class="timeline-date">2006 - 2012</div><h3>屏東縣潮州國民小學</h3></div>
          <div class="timeline-item"><div class="timeline-date">2013 - 2016</div><h3>屏東縣光春國民中學</h3></div>
          <div class="timeline-item"><div class="timeline-date">2017 - 2020</div><h3>國立潮州高級中學</h3></div>
          <div class="timeline-item"><div class="timeline-date">2021 - 2024</div><h3>國立臺東大學</h3></div>
          <div class="timeline-item"><div class="timeline-date">2025 - Now</div><h3>國立陽明交通大學</h3></div>
        </div>
      </div>
    </div>
  </section>

  <section id="project">
    <div class="container">
      <h2>Projects</h2>
      <div class="projects" aria-label="專案展示">
        <article class="project-card" data-index="0">
          <div class="project-inner">
            <div class="project-media">
              <svg viewBox="0 0 800 450" preserveAspectRatio="xMidYMid slice" class="project-svg">
                <defs><linearGradient id="g1" x1="0" x2="1"><stop offset="0" stop-color="#1e2a78"/><stop offset="1" stop-color="#412a8f"/></linearGradient></defs>
                <rect width="100%" height="100%" fill="url(#g1)"/>
                <g fill="#fff" fill-opacity="0.9" transform="translate(40,40)">
                  <rect x="0" y="0" width="240" height="160" rx="12" fill="#fff" opacity="0.08"></rect>
                  <rect x="260" y="0" width="480" height="340" rx="12" fill="#fff" opacity="0.06"></rect>
                </g>
                <text x="50%" y="50%" fill="#fff" font-size="28" text-anchor="middle" dominant-baseline="middle">這個人有點懶，還沒放</text>
              </svg>
            </div>
            <div class="project-body">
              <h3>這個人有點懶，還沒放</h3>
              <p>這個人有點懶，還沒放</p>
              <div class="tags"><span>這個人有點懶，還沒放</span><span>這個人有點懶，還沒放</span></div>
            </div>
          </div>
        </article>

        <article class="project-card" data-index="1">
          <div class="project-inner">
            <div class="project-media">
              <svg viewBox="0 0 800 450" preserveAspectRatio="xMidYMid slice" class="project-svg">
                <rect width="100%" height="100%" fill="#1b1f3a"/>
                <text x="50%" y="50%" fill="#fff" font-size="28" text-anchor="middle" dominant-baseline="middle">這個人有點懶，還沒放</text>
              </svg>
            </div>
            <div class="project-body">
              <h3>這個人有點懶，還沒放</h3>
              <p>這個人有點懶，還沒放</p>
              <div class="tags"><span>這個人有點懶，還沒放</span><span>這個人有點懶，還沒放</span></div>
            </div>
          </div>
        </article>

        <article class="project-card" data-index="2">
          <div class="project-inner">
            <div class="project-media">
              <svg viewBox="0 0 800 450" preserveAspectRatio="xMidYMid slice" class="project-svg">
                <rect width="100%" height="100%" fill="#132336"/>
                <text x="50%" y="50%" fill="#fff" font-size="28" text-anchor="middle" dominant-baseline="middle">這個人有點懶，還沒放</text>
              </svg>
            </div>
            <div class="project-body">
              <h3>這個人有點懶，還沒放</h3>
              <p>這個人有點懶，還沒放</p>
              <div class="tags"><span>這個人有點懶，還沒放</span><span>這個人有點懶，還沒放</span></div>
            </div>
          </div>
        </article>
      </div>
    </div>
  </section>

  <section id="contact">
    <div class="container">
      <h2>Contact Me</h2>
      <div class="socials">
        <a class="social" href="https://github.com" target="_blank" aria-label="GitHub"><i class="fab fa-github"></i></a>
        <a class="social" href="https://www.youtube.com" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
        <a class="social" href="https://www.instagram.com" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
        <a class="social" href="https://www.facebook.com" target="_blank" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
        <a class="social" href="https://twitter.com" target="_blank" aria-label="X"><i class="fab fa-x-twitter"></i></a>
      </div>
    </div>
  </section>

  <footer><p>&copy; 2025 Chen Chien-Ming</p></footer>

<script>
/* --- dynamic navbar & other non-scroll-lock functions --- */
const navbar = document.getElementById('navbar');

window.addEventListener('scroll', () => {
  // 先保留原本的透明→藍色效果
  if (window.scrollY > 50) navbar.classList.add('scrolled');
  else navbar.classList.remove('scrolled');

  // 加入銀河效果
  if (window.scrollY > 200) {
    navbar.classList.add('galaxy');
  } else {
    navbar.classList.remove('galaxy');
  }
});

window.addEventListener('scroll', () => {
  if (window.scrollY > 50) navbar.classList.add('scrolled');
  else navbar.classList.remove('scrolled');
});

const texts = ["MY LIFE IS SO BEAUTIFUL", "前端開發者", "Python學習中", "持續學習者"];
let currentTextIndex = 0;
const typingEl = document.getElementById('typing-text');

function cycleText() {
  typingEl.style.transition = 'opacity 0.5s ease-in-out, transform 0.5s ease-in-out';
  typingEl.style.opacity = 0;
  typingEl.style.transform = 'translateY(-10px)';

  setTimeout(() => {
    currentTextIndex = (currentTextIndex + 1) % texts.length;
    typingEl.textContent = texts[currentTextIndex];
    typingEl.style.opacity = 1;
    typingEl.style.transform = 'translateY(0)';
  }, 500);

  setTimeout(cycleText, 3500);
}
typingEl.style.opacity = 1;
typingEl.textContent = texts[0];
setTimeout(cycleText, 3500);

/* --- stars canvas --- */
const canvas = document.getElementById('stars');
const ctx = canvas.getContext('2d');
let w, h, stars = [], mouse = { x: -9999, y: -9999 };
let meteors = []; // <-- NEW: 用於存儲流星粒子的陣列

function resize() {
  w = canvas.width = innerWidth;
  h = canvas.height = innerHeight;
  stars = Array.from({ length: 380 }, () => ({
    x: Math.random() * w, y: Math.random() * h, r: Math.random() * 1.6 + 0.6,
    dx: (Math.random() - 0.5) * 0.6, dy: (Math.random() - 0.5) * 0.6, a: Math.random() * 0.9 + 0.1
  }));
  meteors = []; // 重新調整大小時清空流星
}
resize();
addEventListener('resize', resize);

// --- NEW: 滑鼠移動事件，用於產生流星粒子 ---
addEventListener('mousemove', e => { 
    mouse.x = e.clientX; 
    mouse.y = e.clientY;

    // 在滑鼠位置生成新的流星粒子
    meteors.push({
        x: e.clientX,
        y: e.clientY,
        dx: (Math.random() - 0.5) * 10, 
        dy: (Math.random() - 0.5) * 10, 
        r: Math.random() * 2 + 1,     
        a: 1,                         
        life: 50                       
    });
    
    if (meteors.length > 50) {
        meteors.shift(); 
    }
});


function draw() {
  ctx.clearRect(0, 0, w, h);

  // 繪製並更新普通星星
  for (let s of stars) {
    ctx.globalAlpha = s.a; ctx.fillStyle = "#fff"; ctx.beginPath(); ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2); ctx.fill();
    s.a += (Math.random() - 0.5) * 0.03; s.a = Math.max(0.2, Math.min(1, s.a)); s.x += s.dx; s.y += s.dy;
    const dist = Math.hypot(mouse.x - s.x, mouse.y - s.y);
    
    // 星星被滑鼠推開的效果
    if (dist < 180) { 
      const pull = (180 - dist) / 180;
      s.x += (s.x - mouse.x) * 0.035 * pull; 
      s.y += (s.y - mouse.y) * 0.035 * pull; 
    }

    // 邊界檢查
    if (s.x < -50) s.x = w + 50; if (s.x > w + 50) s.x = -50;
    if (s.y < -50) s.y = h + 50; if (s.y > h + 50) s.y = -50;
  }

  // --- NEW: 繪製並更新流星粒子 ---
  for (let i = meteors.length - 1; i >= 0; i--) {
      let m = meteors[i];

      // 更新位置和不透明度
      m.x += m.dx;
      m.y += m.dy;
      m.a -= 1 / m.life; 
      m.r -= 0.05;      

      // 如果粒子壽命結束或半徑過小，則移除
      if (m.a <= 0 || m.r <= 0) {
          meteors.splice(i, 1);
          continue;
      }

      // 繪製流星粒子 (使用更明顯的顏色或漸變效果)
      ctx.globalAlpha = m.a;
      ctx.fillStyle = `rgba(255, 205, 0, ${m.a})`; // 淺黃色，更像流星
      ctx.beginPath();
      ctx.arc(m.x, m.y, m.r, 0, Math.PI * 2);
      ctx.fill();
  }
  // --- NEW: 流星粒子部分結束 ---

  requestAnimationFrame(draw);
}
draw();

/* --- Education Horizontal Scroll Lock (kept as is) --- */
const eduSection = document.getElementById('education');
const timelineContainer = document.querySelector('#education .timeline');
let eduLocked = false;

function toggleEduLock(enable) {
    eduLocked = enable;
    if (enable) {
        document.body.style.overflow = 'hidden'; 
        timelineContainer.focus();
    } else {
        document.body.style.overflow = '';
    }
}

const eduObserver = new IntersectionObserver(entries => {
    entries.forEach(entry => {
        if (entry.isIntersecting && entry.intersectionRatio > 0.9) {
             if (!eduLocked && window.scrollY > eduSection.offsetTop - window.innerHeight * 0.5) {
                toggleEduLock(true);
             }
        } else if (eduLocked && entry.intersectionRatio < 0.9) {
            toggleEduLock(false);
        }
    });
}, { 
    threshold: [0.1, 0.9], 
});
eduObserver.observe(eduSection);


/* --- PROJECT CARD SWITCHING --- */
const projectSection = document.getElementById('project');
const projectCards = document.querySelectorAll('.project-card');
let projectLocked = false;
let currentProjectIndex = 0; 
let isScrollingProject = false; 

function toggleProjectLock(enable) {
    projectLocked = enable;
    if (enable) {
        document.body.style.overflow = 'hidden'; 
        projectSection.scrollIntoView({ behavior: 'auto', block: 'start' }); 
        
        setTimeout(() => {
             projectCards[currentProjectIndex].scrollIntoView({ behavior: 'smooth', block: 'center' });
        }, 50);

    } else {
        document.body.style.overflow = '';
    }
}

const projectObserver = new IntersectionObserver(entries => {
    entries.forEach(entry => {
        if (entry.isIntersecting && entry.intersectionRatio > 0.8) {
             if (!projectLocked) {
                if(window.scrollY < projectSection.offsetTop + projectSection.offsetHeight / 2) {
                    currentProjectIndex = 0; 
                }
                toggleProjectLock(true);
             }
        } else if (projectLocked && entry.intersectionRatio < 0.2) {
            toggleProjectLock(false);
        }
    });
}, { 
    threshold: [0.1, 0.2, 0.8, 0.9],
});
projectObserver.observe(projectSection);


// 處理全域滾輪事件 (學歷與專案)
window.addEventListener('wheel', (e) => {
    const delta = e.deltaY;
    
    // 1. 處理學歷區塊 (水平滾動)
    if (eduLocked) {
        e.preventDefault(); 

        const maxScroll = timelineContainer.scrollWidth - timelineContainer.clientWidth;
        const currentScroll = timelineContainer.scrollLeft;

        timelineContainer.scrollLeft += delta;

        if (currentScroll >= maxScroll - 5 && delta > 0) {
            toggleEduLock(false);
            window.scrollBy({ top: 100, behavior: 'auto' }); 
        }
        else if (currentScroll <= 5 && delta < 0) {
            toggleEduLock(false);
            window.scrollBy({ top: -100, behavior: 'auto' }); 
        }
        return; 
    }
    
    // 2. 處理專案區塊 (垂直卡片切換)
    if (projectLocked) {
        e.preventDefault(); 
        if (isScrollingProject) return; 

        const direction = delta > 0 ? 'down' : 'up';
        let newIndex = currentProjectIndex;

        if (direction === 'down') {
            newIndex = Math.min(projectCards.length, currentProjectIndex + 1);
        } else if (direction === 'up') {
            newIndex = Math.max(-1, currentProjectIndex - 1);
        }
        
        if (newIndex >= projectCards.length || newIndex < 0) {
            toggleProjectLock(false);
            if (newIndex >= projectCards.length) {
                window.scrollBy({ top: 100, behavior: 'auto' }); 
            } else {
                window.scrollBy({ top: -100, behavior: 'auto' });
            }
            return; 
        }
        
        if (newIndex !== currentProjectIndex) {
            currentProjectIndex = newIndex;
            isScrollingProject = true; 
            
            projectCards[currentProjectIndex].scrollIntoView({ behavior: 'smooth', block: 'center' });
            
            setTimeout(() => {
                isScrollingProject = false;
            }, 800); 
        }
    }
}, { passive: false });
/* --- 頭像平滑縮小並沿弧線移動到 "CM" 左邊 --- */
const profileImg = document.getElementById("profile-img");
const logo = document.querySelector(".logo");

// 緩動函數
function easeInOutCubic(t) {
  return t < 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2;
}

// 初始化 logo 座標
let logoTarget = { x: 0, y: 0 };
function calcLogoTarget() {
  const rect = logo.getBoundingClientRect();
  logoTarget.x = rect.left + window.scrollX - 50; // 稍微左邊留距
  logoTarget.y = rect.top + window.scrollY + 25;  // 靠近導覽列
}
calcLogoTarget();
window.addEventListener("resize", calcLogoTarget);

function updateProfilePosition() {
  const scrollY = window.scrollY;
  const start = 0;
  const end = 300; // 動畫長度
  const progress = Math.min(scrollY / end, 1);
  const ease = easeInOutCubic(progress);

  // 起始點：header 的正中央（不擋文字）
  const header = document.querySelector("header");
  const headerRect = header.getBoundingClientRect();
  const startX = headerRect.left + headerRect.width / 2;
  const startY = headerRect.top + window.scrollY + headerRect.height * 0.4;

  // 終點：logo 左側
  const endX = logoTarget.x +50;
  const endY = logoTarget.y ;

  // 弧線插值
  const currentX = startX + (endX - startX) * ease;
  const arcHeight = 10; // 弧形高度，越大越優雅
  const currentY =
    startY - arcHeight * Math.sin(Math.PI * ease) + (endY - startY) * ease;

  // 縮放（由 1 → 0.25）
  const scale = 1 - ease * 0.75;

  // 讓頭像只有滾動後才固定
  if (scrollY > 10) {
    profileImg.style.position = "fixed";
  } else {
    profileImg.style.position = "absolute";
  }

  // 更新樣式
  profileImg.style.left = `${currentX}px`;
  profileImg.style.top = `${currentY}px`;
  profileImg.style.transform = `translate(-50%, -50%) scale(${scale})`;
  profileImg.style.zIndex = ease > 0.95 ? "60" : "1";
}

// 僅在畫面載入後開始監聽
window.addEventListener("scroll", updateProfilePosition);
window.addEventListener("resize", updateProfilePosition);
window.addEventListener("load", updateProfilePosition);



</script>

</body>
</html>